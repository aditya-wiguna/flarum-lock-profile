{"version":3,"file":"forum.js","mappings":"MACA,IAAIA,EAAsB,CCA1BA,EAAyBC,IACxB,IAAIC,EAASD,GAAUA,EAAOE,WAC7B,IAAOF,EAAiB,QACxB,IAAM,EAEP,OADAD,EAAoBI,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,GCLRF,EAAwB,CAACM,EAASC,KACjC,IAAI,IAAIC,KAAOD,EACXP,EAAoBS,EAAEF,EAAYC,KAASR,EAAoBS,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3ER,EAAwB,CAACc,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,I,mBCAlF,MAAM,EAA+BI,OAAOC,KAAKC,OAAO,a,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,iBCAlD,EAA+BF,OAAOC,KAAKC,OAAO,6B,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,iC,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,qC,aCAnBF,OAAOC,KAAKC,OAAO,wCCOxDC,IAAAA,aAAiBC,IAAI,iCAAkC,YAErDC,EAAAA,EAAAA,QAAOC,IAAAA,UAAoB,WAAY,WACjCH,IAAAA,QAAYI,OAASJ,IAAAA,QAAYI,KAAKC,WAEpBC,SAASC,iBAAiB,sBAClCC,QAAQ,SAAAC,GACdA,EAAOC,YAAYC,SAAS,UAC9BF,EAAOG,MAAMC,QAAU,OAE3B,EAEJ,IAGAX,EAAAA,EAAAA,QAAOY,IAAAA,UAAwB,WAAY,WACrCd,IAAAA,QAAYI,OAASJ,IAAAA,QAAYI,KAAKC,WACxCU,WAAW,WAET,IAAMC,EAAgBV,SAASW,cAAc,0BACzCD,IACFA,EAAcE,UAAW,EACzBF,EAAcJ,MAAMO,QAAU,MAC9BH,EAAcJ,MAAMQ,OAAS,eAI/B,IAAMC,EAAaf,SAASW,cAAc,uBACtCI,IACFA,EAAWH,UAAW,EACtBG,EAAWT,MAAMO,QAAU,MAC3BE,EAAWT,MAAMQ,OAAS,eAI5B,IAAME,EAAWhB,SAASW,cAAc,wBACpCK,IACFA,EAASJ,UAAW,EACpBI,EAASV,MAAMO,QAAU,MACzBG,EAASV,MAAMQ,OAAS,eAI1B,IAAMG,EAAiBjB,SAASW,cAAc,wBAC1CM,IACFA,EAAeX,MAAMC,QAAU,QAIjC,IAAMW,EAAelB,SAASW,cAAc,gBACtCQ,EAAiBnB,SAASW,cAAc,iBAC9C,GAAIO,EAAc,CAChB,IAAME,EAASF,EAAaG,QAAQ,eAChCD,IACFA,EAAOd,MAAMO,QAAU,MACvBO,EAAOd,MAAMgB,cAAgB,OAEjC,CACIH,IACFA,EAAeb,MAAMC,QAAU,OAEnC,EAAG,IAEP,IAGAX,EAAAA,EAAAA,QAAO2B,IAAAA,UAA4B,SAAU,WACvC7B,IAAAA,QAAYI,OAASJ,IAAAA,QAAYI,KAAKC,YACxCL,IAAAA,MAAU8B,QACV9B,IAAAA,OAAW+B,KAAK,CAAEC,KAAM,SAAW,6CAEvC,EACF,E","sources":["webpack://@adityawiguna/flarum-lock-profile/webpack/bootstrap","webpack://@adityawiguna/flarum-lock-profile/webpack/runtime/compat get default export","webpack://@adityawiguna/flarum-lock-profile/webpack/runtime/define property getters","webpack://@adityawiguna/flarum-lock-profile/webpack/runtime/hasOwnProperty shorthand","webpack://@adityawiguna/flarum-lock-profile/external root \"flarum.core.compat['forum/app']\"","webpack://@adityawiguna/flarum-lock-profile/external root \"flarum.core.compat['common/extend']\"","webpack://@adityawiguna/flarum-lock-profile/external root \"flarum.core.compat['forum/components/UserPage']\"","webpack://@adityawiguna/flarum-lock-profile/external root \"flarum.core.compat['forum/components/SettingsPage']\"","webpack://@adityawiguna/flarum-lock-profile/external root \"flarum.core.compat['forum/components/ChangeEmailModal']\"","webpack://@adityawiguna/flarum-lock-profile/external root \"flarum.core.compat['forum/components/ChangePasswordModal']\"","webpack://@adityawiguna/flarum-lock-profile/./src/forum/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/UserPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/SettingsPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/ChangeEmailModal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/ChangePasswordModal'];","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport UserPage from 'flarum/forum/components/UserPage';\nimport SettingsPage from 'flarum/forum/components/SettingsPage';\nimport ChangeEmailModal from 'flarum/forum/components/ChangeEmailModal';\nimport ChangePasswordModal from 'flarum/forum/components/ChangePasswordModal';\n\napp.initializers.add('yourvendor/flarum-lock-profile', () => {\n  // Disable the edit profile button\n  extend(UserPage.prototype, 'oncreate', function() {\n    if (app.session.user && !app.session.user.isAdmin()) {\n      // Hide edit profile controls for non-admin users\n      const editButtons = document.querySelectorAll('.UserCard-controls');\n      editButtons.forEach(button => {\n        if (button.textContent.includes('Edit')) {\n          button.style.display = 'none';\n        }\n      });\n    }\n  });\n\n  // Disable settings page inputs\n  extend(SettingsPage.prototype, 'oncreate', function() {\n    if (app.session.user && !app.session.user.isAdmin()) {\n      setTimeout(() => {\n        // Disable username field\n        const usernameInput = document.querySelector('input[name=\"username\"]');\n        if (usernameInput) {\n          usernameInput.disabled = true;\n          usernameInput.style.opacity = '0.5';\n          usernameInput.style.cursor = 'not-allowed';\n        }\n\n        // Disable email field\n        const emailInput = document.querySelector('input[name=\"email\"]');\n        if (emailInput) {\n          emailInput.disabled = true;\n          emailInput.style.opacity = '0.5';\n          emailInput.style.cursor = 'not-allowed';\n        }\n\n        // Disable bio field\n        const bioField = document.querySelector('textarea[name=\"bio\"]');\n        if (bioField) {\n          bioField.disabled = true;\n          bioField.style.opacity = '0.5';\n          bioField.style.cursor = 'not-allowed';\n        }\n\n        // Hide change email button\n        const changeEmailBtn = document.querySelector('.Button--changeEmail');\n        if (changeEmailBtn) {\n          changeEmailBtn.style.display = 'none';\n        }\n\n        // Hide avatar upload\n        const avatarUpload = document.querySelector('.User-avatar');\n        const avatarControls = document.querySelector('.AvatarEditor');\n        if (avatarUpload) {\n          const parent = avatarUpload.closest('.Form-group');\n          if (parent) {\n            parent.style.opacity = '0.5';\n            parent.style.pointerEvents = 'none';\n          }\n        }\n        if (avatarControls) {\n          avatarControls.style.display = 'none';\n        }\n      }, 100);\n    }\n  });\n\n  // Prevent change email modal\n  extend(ChangeEmailModal.prototype, 'oninit', function() {\n    if (app.session.user && !app.session.user.isAdmin()) {\n      app.modal.close();\n      app.alerts.show({ type: 'error' }, 'You are not allowed to change your email.');\n    }\n  });\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","core","compat","app","add","extend","UserPage","user","isAdmin","document","querySelectorAll","forEach","button","textContent","includes","style","display","SettingsPage","setTimeout","usernameInput","querySelector","disabled","opacity","cursor","emailInput","bioField","changeEmailBtn","avatarUpload","avatarControls","parent","closest","pointerEvents","ChangeEmailModal","close","show","type"],"sourceRoot":""}